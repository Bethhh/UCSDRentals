<!doctype html>

<html>
<head>
	<title>Current Matches</title>	
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="/css/bootstrap.css" rel="stylesheet">
	<link href="/css/bootswatch.min.css" rel="stylesheet">
	<link href="/css/index.css" rel="stylesheet">

	<style>
      #map_canvas {
      	position:absolute;
      	top: 150px;
        width: 100%;
        height: 100%;
        background-color: #CCC;
        padding: 10px 20px;
        bottom: 0;
        box-sizing: border-box;
      }
    </style>

	<script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDY0kkJiTPVd2U7aTOAwhc9ySH6oHxOIYM&sensor=false">
	</script>

	<script>
	var center_UCSD = new google.maps.LatLng(32.877491,-117.235276);
/*
	function initialize()
	{
	var mapCanvas = document.getElementById('map_canvas');
	var mapProp = {
	  center:center_UCSD,
	  zoom:13,
	  mapTypeId:google.maps.MapTypeId.ROADMAP
	  }
	var map=new google.maps.Map(document.getElementById("map_canvas")
	  ,mapProp);
	
	var ucsd = new google.maps.Marker({
		position:center_UCSD,
		icon: {
	      path: google.maps.SymbolPath.CIRCLE,
	      scale: 10
	    }
	});
	ucsd.setMap(map);

	match1 = new google.maps.LatLng(32.867779,-117.218110);
	infoWindow1 = new google.map.InfoWindow({
		content:'testing'
	});
	marker1 = new google.maps.Marker({
		position:match1,
		map:map,
		title:'Costa Verde'
	});

	google.maps.event.addListener(marker1,'click',infoWindow1.open(map,marker1));
	/*
	var myMarkers = new Array();
	var myInfoWins = new Array();
	var msg = new Array();
	var match = new Array();
	var name = new Array();
	var i = 0;
	{{#each matches}}
		match[i] = new google.maps.LatLng({{lat}},{{lon}});
		name[i] = "{{name}}";
		msg[i] = '<div>'+
	      '<h1>name[i]</h1>'+
	      '<a url="/detailedInfo{{id}}"></a>'+
	      '</div>';

	    myInfoWins[i] = new google.map.InfoWindow({
      		content: msg[i]
  		});

		myMarkers[i] = new google.maps.Marker({
			position:match[i],
			map:map,
			title:name[i]
		});
		//myMarkers[i].setMap(map);

		google.maps.event.addListener(myMarkers[i],'click',myInfoWins[i].open(map,myMarkers[i]));

		i++;
		console.log(i+"id is "+{{id}} + "name is {{name}}");
	{{/each}}
	*/
	function initialize() {
  		var latlng1 = new google.maps.LatLng(32.867779,-117.218110);
  		var latlng2 = new google.maps.LatLng(32.855234,-117.217615);
  		var mapOptions = {
	    zoom: 15,
	    center: latlng1
	  };

  		var map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);

  		var contentString1 = '<div id="bodyContent">'+
  	  '<h7 id="firstHeading" class="firstHeading">Costa Verde</h7>'+
  	  '<p></p>'+
      '<p>Rent:$760</p>'+
      '<p>One Bedroom</p>'+
      '<a href="/detailedInfo1">'+
      'View Details</a> '+
      '</div>';

	      var contentString2 = '<div id="bodyContent">'+
	  	  '<h7 id="firstHeading" class="firstHeading">Regents Court</h7>'+
	  	  '<p></p>'+
	      '<p>Rent:$860</p>'+
	      '<p>One Bedroom</p>'+
	      '<a href="/detailedInfo2">'+
	      'View Details</a> '+
	      '</div>';

	  var infowindow1 = new google.maps.InfoWindow({
	      content: contentString1
	  });
	var infowindow2 = new google.maps.InfoWindow({
	      content: contentString2
	  });
	var infowindow3 = new google.maps.InfoWindow({
	      content: "UCSD"
	  });

  	var marker1 = new google.maps.Marker({
      position: latlng1,
      map: map,
      title: 'Costa Verde'
  	});
  	var marker2 = new google.maps.Marker({
      position: latlng2,
      map: map,
      title: 'Regents Court'
  	});
  	var marker3 = new google.maps.Marker({
      position: center_UCSD,
      map: map,
      animation: google.maps.Animation.BOUNCE,
      title: 'UCSD'
  	});
  google.maps.event.addListener(marker1, 'click', function() {
    infowindow1.open(map,marker1);
  });
  google.maps.event.addListener(marker2, 'click', function() {
    infowindow2.open(map,marker2);
  });
}

google.maps.event.addDomListener(window, 'load', initialize);

	//google.maps.event.addDomListener(window, 'load', initialize);
	</script>
</head>

<body>
	<div class="top_bar">
		<div class="menu_bar">
			<div class="btn-group">
		  		<button type="button" id="home_dropdown" class="btn btn-default btn-lg" data-toggle="dropdown">
  				<span class="glyphicon glyphicon-home"></span>
				</button>
		  		<ul class="dropdown-menu" role="menu">
		    		<li><a href="/menu">Home Menu</a></li>
		    		<li><a href="/about">About</a></li>
		  		</ul>
			</div>
		</div>
		<h4 class="subtitle" id="matchprof">Current Matches</h4>
	</div>
<div class="container">
	<ul class="nav nav-tabs ">
  		<li><a href="/newp">New</a></li>
  		<li><a href="/existing">Existing</a></li>
  		<li class="active"><a href="/matches">Matches</a></li>
	</ul>
</div>
<div><a href="detailedInfo">Test</a></div>
<div id="map_canvas" align="center"></div>

	<script src="js/jquery-1.11.0.js"></script>
	<script src="js/bootstrap.js"></script>
	<script src="js/ucsdrentals.js"></script>
</body>
</html>
